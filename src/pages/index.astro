---
import BaseLayout from '../layouts/BaseLayout.astro'

const carouselItems = [
    { img: "various_events/5th_september__L.jpg", title: "5th September" },
    { img: "various_events/annual_function__L.jpg", title: "Annual Function" },
    { img: "various_events/annual_sports__L.jpg", title: "Annual Sports" },
    { img: "various_events/drawing__L.jpg", title: "Drawing" },
    { img: "various_events/games__L.jpg", title: "Games" },
    { img: "various_events/physical_edication__L.jpg", title: "Physical Education" },
    { img: "various_events/wall_megazine__L.jpg", title: "Wall Magazine" },

    // Newly added gallery images
    { img: "gallery/4te2SyLtyy_2026_02_26_00_35_49.jpg", title: "Gallery Photo" },
    { img: "gallery/gHk6potBRG_2026_02_26_00_31_47.jpg", title: "Grand Reunion 2014" },
    { img: "gallery/PmsH1ySg2g_2026_02_26_00_32_46.jpg", title: "Playground" },
    { img: "gallery/Ff71JfD3u6_2026_02_26_00_25_47.jpg", title: "Gallery Photo" }
];

const description = "Official website of Kamalpur Netaji High School (H.S.). Discover our history, academic excellence, extracurricular achievements, and school facilities since 1956.";
const keywords = "Kamalpur Netaji High School, KNHS, Bankura Schools, Chhatna Schools, West Bengal Education, High School Chhatna, Netaji High School Kamalpur";
---

<BaseLayout title="Home" description={description} keywords={keywords}>
    <span slot="head">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
    </span>

    <section id="home">
        <div class="owl-carousel owl-theme">
            {carouselItems.map(item => (
                <div class="item">
                    <img src={`/assets/images/${item.img}`} alt={item.title}>
                    <div class="carousel-caption"><h3>{item.title}</h3></div>
                </div>
            ))}
        </div>
        <p>Welcome to the official website of Kamalpur Netaji High School (H.S.)</p>
    </section>

    <script slot="scripts" is:inline type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script slot="scripts" is:inline type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script slot="scripts" is:inline>
        function initCarousel() {
            const $carousel = $(".owl-carousel");
            if (!$carousel.length) return;

            // Randomize items
            const $items = $carousel.children('.item');
            $items.sort(() => Math.random() - 0.5);
            $carousel.empty().append($items);

            $carousel.owlCarousel({
                loop:true,
                margin:10,
                nav:true,
                autoplay:true,
                autoplayTimeout:5000,
                autoplayHoverPause:true,
                responsiveClass:true,
                responsive:{
                    0:{items:1,nav:true,loop:true},
                    600:{items:1,nav:true,loop:true},
                    1000:{items:1,nav:true,loop:true}
                }
            });
        }

        $(document).ready(initCarousel);
        document.addEventListener('astro:after-swap', initCarousel);
    </script>
</BaseLayout>
