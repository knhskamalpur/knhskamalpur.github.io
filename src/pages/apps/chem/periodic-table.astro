---
import BaseLayout from "../../../layouts/BaseLayout.astro"
---

<BaseLayout title="Periodic Table">
  <span slot="head">
    <link rel="stylesheet" href="/apps/chem/style.css">
    <style>
        .chem-container {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            color: #333;
        }
        .ptable-container {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 3px;
            margin: 20px 0;
            padding: 15px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            width: 100%;
            overflow-x: auto;
            box-sizing: border-box;
        }
        .element-cell {
            aspect-ratio: 1/1;
            border: 1px solid #ddd;
            padding: 4px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.75rem;
            min-width: 40px;
            color: #333;
            border-radius: 4px;
        }
        .element-cell:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        .element-cell.active-selection {
            outline: 3px solid #012f63;
            outline-offset: -3px;
            z-index: 5;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }
        .element-cell .symbol {
            font-weight: bold;
            font-size: 1.1rem;
        }
        .element-cell .atomic-num {
            font-size: 0.6rem;
            align-self: flex-start;
        }
        
        .alkali { background: #ff8a8a; }
        .alkaline { background: #ffcc80; }
        .transition { background: #ffb5c5; }
        .post-transition { background: #d1d1d1; }
        .metalloid { background: #d4d4aa; }
        .nonmetal { background: #a5d6a7; }
        .halogen { background: #fff59d; }
        .noblegas { background: #81d4fa; }
        .lanthanide { background: #ce93d8; }
        .actinide { background: #f48fb1; }
        
        #element-details {
            margin-top: 30px;
            padding: 20px;
            background: #f4f4f4;
            border-radius: 8px;
            display: flex;
            gap: 30px;
            align-items: center;
            color: #333;
        }
        .detail-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            min-width: 150px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            color: #333;
        }
        .detail-card .symbol-large {
            font-size: 4rem;
            font-weight: bold;
        }
    </style>
  </span>

  <div class="chem-container">
      <h2>Interactive Periodic Table</h2>
      <p>Click on an element to see more details.</p>
      
      <div class="ptable-container" id="ptable">
          <!-- Elements will be generated by JS -->
      </div>

      <div id="element-details" style="display: none;">
          <div class="detail-card" id="detail-box">
              <div class="symbol-large" id="det-symbol">H</div>
              <div id="det-name">Hydrogen</div>
          </div>
          <div class="detail-info">
              <h3 id="det-full-name">Hydrogen (1)</h3>
              <p><strong>Category:</strong> <span id="det-cat">Nonmetal</span></p>
              <p><strong>Atomic Mass:</strong> <span id="det-mass">1.008</span> u</p>
              <p><strong>Density:</strong> <span id="det-density">0.00008988</span> g/cmÂ³</p>
              <p><strong>Discovery:</strong> <span id="det-discovery">1766</span></p>
              <p id="det-desc" style="margin-top: 15px; font-style: italic;"></p>
          </div>
      </div>
  </div>

  <span slot="scripts">
    <script is:inline>
        const elements = [
            {n: 1, s: 'H', name: 'Hydrogen', cat: 'nonmetal', m: 1.008, pos: [1,1]},
            {n: 2, s: 'He', name: 'Helium', cat: 'noblegas', m: 4.0026, pos: [1,18]},
            {n: 3, s: 'Li', name: 'Lithium', cat: 'alkali', m: 6.94, pos: [2,1]},
            {n: 4, s: 'Be', name: 'Beryllium', cat: 'alkaline', m: 9.0122, pos: [2,2]},
            {n: 5, s: 'B', name: 'Boron', cat: 'metalloid', m: 10.81, pos: [2,13]},
            {n: 6, s: 'C', name: 'Carbon', cat: 'nonmetal', m: 12.011, pos: [2,14]},
            {n: 7, s: 'N', name: 'Nitrogen', cat: 'nonmetal', m: 14.007, pos: [2,15]},
            {n: 8, s: 'O', name: 'Oxygen', cat: 'nonmetal', m: 15.999, pos: [2,16]},
            {n: 9, s: 'F', name: 'Fluorine', cat: 'halogen', m: 18.998, pos: [2,17]},
            {n: 10, s: 'Ne', name: 'Neon', cat: 'noblegas', m: 20.180, pos: [2,18]},
            {n: 11, s: 'Na', name: 'Sodium', cat: 'alkali', m: 22.990, pos: [3,1]},
            {n: 12, s: 'Mg', name: 'Magnesium', cat: 'alkaline', m: 24.305, pos: [3,2]},
            {n: 13, s: 'Al', name: 'Aluminium', cat: 'post-transition', m: 26.982, pos: [3,13]},
            {n: 14, s: 'Si', name: 'Silicon', cat: 'metalloid', m: 28.085, pos: [3,14]},
            {n: 15, s: 'P', name: 'Phosphorus', cat: 'nonmetal', m: 30.974, pos: [3,15]},
            {n: 16, s: 'S', name: 'Sulfur', cat: 'nonmetal', m: 32.06, pos: [3,16]},
            {n: 17, s: 'Cl', name: 'Chlorine', cat: 'halogen', m: 35.45, pos: [3,17]},
            {n: 18, s: 'Ar', name: 'Argon', cat: 'noblegas', m: 39.948, pos: [3,18]},
            {n: 19, s: 'K', name: 'Potassium', cat: 'alkali', m: 39.098, pos: [4,1]},
            {n: 20, s: 'Ca', name: 'Calcium', cat: 'alkaline', m: 40.078, pos: [4,2]},
            {n: 21, s: 'Sc', name: 'Scandium', cat: 'transition', m: 44.956, pos: [4,3]},
            {n: 22, s: 'Ti', name: 'Titanium', cat: 'transition', m: 47.867, pos: [4,4]},
            {n: 23, s: 'V', name: 'Vanadium', cat: 'transition', m: 50.942, pos: [4,5]},
            {n: 24, s: 'Cr', name: 'Chromium', cat: 'transition', m: 51.996, pos: [4,6]},
            {n: 25, s: 'Mn', name: 'Manganese', cat: 'transition', m: 54.938, pos: [4,7]},
            {n: 26, s: 'Fe', name: 'Iron', cat: 'transition', m: 55.845, pos: [4,8]},
            {n: 27, s: 'Co', name: 'Cobalt', cat: 'transition', m: 58.933, pos: [4,9]},
            {n: 28, s: 'Ni', name: 'Nickel', cat: 'transition', m: 58.693, pos: [4,10]},
            {n: 29, s: 'Cu', name: 'Copper', cat: 'transition', m: 63.546, pos: [4,11]},
            {n: 30, s: 'Zn', name: 'Zinc', cat: 'transition', m: 65.38, pos: [4,12]},
            {n: 31, s: 'Ga', name: 'Gallium', cat: 'post-transition', m: 69.723, pos: [4,13]},
            {n: 32, s: 'Ge', name: 'Germanium', cat: 'metalloid', m: 72.63, pos: [4,14]},
            {n: 33, s: 'As', name: 'Arsenic', cat: 'metalloid', m: 74.922, pos: [4,15]},
            {n: 34, s: 'Se', name: 'Selenium', cat: 'nonmetal', m: 78.971, pos: [4,16]},
            {n: 35, s: 'Br', name: 'Bromine', cat: 'halogen', m: 79.904, pos: [4,17]},
            {n: 36, s: 'Kr', name: 'Krypton', cat: 'noblegas', m: 83.798, pos: [4,18]},
            {n: 37, s: 'Rb', name: 'Rubidium', cat: 'alkali', m: 85.468, pos: [5,1]},
            {n: 38, s: 'Sr', name: 'Strontium', cat: 'alkaline', m: 87.62, pos: [5,2]},
            {n: 39, s: 'Y', name: 'Yttrium', cat: 'transition', m: 88.906, pos: [5,3]},
            {n: 40, s: 'Zr', name: 'Zirconium', cat: 'transition', m: 91.224, pos: [5,4]},
            {n: 41, s: 'Nb', name: 'Niobium', cat: 'transition', m: 92.906, pos: [5,5]},
            {n: 42, s: 'Mo', name: 'Molybdenum', cat: 'transition', m: 95.95, pos: [5,6]},
            {n: 43, s: 'Tc', name: 'Technetium', cat: 'transition', m: 98, pos: [5,7]},
            {n: 44, s: 'Ru', name: 'Ruthenium', cat: 'transition', m: 101.07, pos: [5,8]},
            {n: 45, s: 'Rh', name: 'Rhodium', cat: 'transition', m: 102.91, pos: [5,9]},
            {n: 46, s: 'Pd', name: 'Palladium', cat: 'transition', m: 106.42, pos: [5,10]},
            {n: 47, s: 'Ag', name: 'Silver', cat: 'transition', m: 107.87, pos: [5,11]},
            {n: 48, s: 'Cd', name: 'Cadmium', cat: 'transition', m: 112.41, pos: [5,12]},
            {n: 49, s: 'In', name: 'Indium', cat: 'post-transition', m: 114.82, pos: [5,13]},
            {n: 50, s: 'Sn', name: 'Tin', cat: 'post-transition', m: 118.71, pos: [5,14]},
            {n: 51, s: 'Sb', name: 'Antimony', cat: 'metalloid', m: 121.76, pos: [5,15]},
            {n: 52, s: 'Te', name: 'Tellurium', cat: 'metalloid', m: 127.60, pos: [5,16]},
            {n: 53, s: 'I', name: 'Iodine', cat: 'halogen', m: 126.90, pos: [5,17]},
            {n: 54, s: 'Xe', name: 'Xenon', cat: 'noblegas', m: 131.29, pos: [5,18]},
            {n: 55, s: 'Cs', name: 'Caesium', cat: 'alkali', m: 132.91, pos: [6,1]},
            {n: 56, s: 'Ba', name: 'Barium', cat: 'alkaline', m: 137.33, pos: [6,2]},
            {n: 57, s: 'La', name: 'Lanthanum', cat: 'lanthanide', m: 138.91, pos: [8,4]},
            {n: 72, s: 'Hf', name: 'Hafnium', cat: 'transition', m: 178.49, pos: [6,4]},
            {n: 73, s: 'Ta', name: 'Tantalum', cat: 'transition', m: 180.95, pos: [6,5]},
            {n: 74, s: 'W', name: 'Tungsten', cat: 'transition', m: 183.84, pos: [6,6]},
            {n: 75, s: 'Re', name: 'Rhenium', cat: 'transition', m: 186.21, pos: [6,7]},
            {n: 76, s: 'Os', name: 'Osmium', cat: 'transition', m: 190.23, pos: [6,8]},
            {n: 77, s: 'Ir', name: 'Iridium', cat: 'transition', m: 192.22, pos: [6,9]},
            {n: 78, s: 'Pt', name: 'Platinum', cat: 'transition', m: 195.08, pos: [6,10]},
            {n: 79, s: 'Au', name: 'Gold', cat: 'transition', m: 196.97, pos: [6,11]},
            {n: 80, s: 'Hg', name: 'Mercury', cat: 'transition', m: 200.59, pos: [6,12]},
            {n: 81, s: 'Tl', name: 'Thallium', cat: 'post-transition', m: 204.38, pos: [6,13]},
            {n: 82, s: 'Pb', name: 'Lead', cat: 'post-transition', m: 207.2, pos: [6,14]},
            {n: 83, s: 'Bi', name: 'Bismuth', cat: 'post-transition', m: 208.98, pos: [6,15]},
            {n: 84, s: 'Po', name: 'Polonium', cat: 'post-transition', m: 209, pos: [6,16]},
            {n: 85, s: 'At', name: 'Astatine', cat: 'post-transition', m: 210, pos: [6,17]},
            {n: 86, s: 'Rn', name: 'Radon', cat: 'noblegas', m: 222, pos: [6,18]},
            {n: 87, s: 'Fr', name: 'Francium', cat: 'alkali', m: 223, pos: [7,1]},
            {n: 88, s: 'Ra', name: 'Radium', cat: 'alkaline', m: 226, pos: [7,2]},
            {n: 89, s: 'Ac', name: 'Actinium', cat: 'actinide', m: 227, pos: [9,4]}
        ];

        const container = document.getElementById('ptable');
        elements.forEach(el => {
            const cell = document.createElement('div');
            cell.className = `element-cell ${el.cat}`;
            cell.style.gridRow = el.pos[0];
            cell.style.gridColumn = el.pos[1];
            cell.innerHTML = `
                <div class="atomic-num">${el.n}</div>
                <div class="symbol">${el.s}</div>
                <div class="name">${el.s}</div>
            `;
            cell.onclick = () => showDetails(el, cell);
            container.appendChild(cell);
        });

        function showDetails(el, cell) {
            document.querySelectorAll('.element-cell').forEach(c => c.classList.remove('active-selection'));
            cell.classList.add('active-selection');
            
            const details = document.getElementById('element-details');
            details.style.display = 'flex';
            
            document.getElementById('det-symbol').textContent = el.s;
            document.getElementById('det-name').textContent = el.name;
            document.getElementById('det-full-name').textContent = `${el.name} (${el.n})`;
            document.getElementById('det-cat').textContent = el.cat.charAt(0).toUpperCase() + el.cat.slice(1);
            document.getElementById('det-mass').textContent = el.m;
            document.getElementById('detail-box').className = `detail-card ${el.cat}`;
        }
    </script>
  </span>
</BaseLayout>
